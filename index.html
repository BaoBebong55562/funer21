<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHẲN LẺ VUI VẺ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
    <style>
        body {
            position: relative;
            overflow-x: hidden;
        }
        .snowflake {
            position: absolute;
            top: -10px;
            z-index: 9999;
            user-select: none;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <marquee class="text-gray-800 text-lg my-4">CHÀO MỪNG BẠN ĐẾN VỚI CHẲN LẺ VUI VẺ</marquee>

    <div class="container mx-auto p-4">
        <h1 class="text-2xl font-bold text-center mb-4">CHÀO MỪNG BẠN ĐẾN VỚI TRÒ CHƠI CHẲN LẺ</h1>

        <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
            <h2 class="text-xl font-bold text-yellow-600 mb-4">CÁCH CHƠI & QUY TẮC</h2>
            <h3 class="mb-2">- Số điểm đặt cược >= 5.000 điểm</h3>
            <h3 class="mb-2">- Trả thưởng trên "tổng tiền đặt cược x1.75" => số tiền bạn thắng. Ngược lại, nếu thua sẽ bị trừ số tiền đặt cược tương ứng.</h3>
            <h3 class="mb-2">- Mỗi giao dịch với admin sẽ được duy nhất 1 mã (tùy theo số tiền bạn giao dịch) mã chỉ có hiệu lực 1 lần nên không được load trang sau khi nhập mã "tránh trường hợp gian lận".</h3>
            <h3 class="mb-2">- Có chức năng rút điểm bằng cách chụp lại lịch sử giao đặt cược cuối cùng gửi qua "telegram" cho admin để kiểm tra và hoàn lại điểm tương ứng với tiền cho bạn.</h3>
            <h4>Vui lòng liên hệ admin để nhận mã nạp điểm: <a href="https://t.me/tomxinh917" target="_blank" class="text-blue-500">https://t.me/tomxinh917</a></h4>
        </div>

        <h3 class="text-lg font-semibold mb-2">Số dư hiện tại: <span id="current-balance">0</span> điểm</h3>

        <div class="mb-6">
            <h3 class="text-lg font-semibold mb-2">Nạp điểm</h3>
            <input type="text" id="deposit-code" placeholder="Nhập mã giao dịch" class="border p-2 w-full mb-2">
            <button class="bg-yellow-600 text-white px-4 py-2 rounded" onclick="validateDeposit()">Nạp điểm</button>
            <div id="deposit-message" class="mt-2"></div>
        </div>

        <h3 class="text-lg font-semibold mb-2">Lịch sử nạp điểm</h3>
        <table id="deposit-history" class="min-w-full bg-white rounded-lg shadow-lg mb-6">
            <thead>
                <tr class="bg-yellow-600 text-white">
                    <th class="py-2">Số thứ tự</th>
                    <th class="py-2">Mã giao dịch</th>
                    <th class="py-2">Số điểm nạp</th>
                    <th class="py-2">Thời gian</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <h3 class="text-lg font-semibold mb-2">Đặt cược</h3>
        <div class="mb-6">
            <input type="number" id="bet-amount" placeholder="Nhập số điểm cược" class="border p-2 w-full mb-2">
            <div class="mb-2">
                <label class="inline-flex items-center">
                    <input type="radio" name="bet-type" value="even" class="form-radio">
                    <span class="ml-2">Chẵn</span>
                </label>
                <label class="inline-flex items-center ml-4">
                    <input type="radio" name="bet-type" value="odd" class="form-radio">
                    <span class="ml-2">Lẻ</span>
                </label>
            </div>
            <button class="bg-green-600 text-white px-4 py-2 rounded" onclick="placeBet()">Đặt cược</button>
        </div>

        <h3 class="text-lg font-semibold mb-2">Lịch sử đặt cược</h3>
        <table id="bet-history" class="min-w-full bg-white rounded-lg shadow-lg mb-6">
            <thead>
                <tr class="bg-yellow-600 text-white">
                    <th class="py-2">Số thứ tự</th>
                    <th class="py-2">Số điểm cược</th>
                    <th class="py-2">Kết quả</th>
                    <th class="py-2">Thực nhận</th>
                    <th class="py-2">Thời gian</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
            <h3 class="text-lg font-semibold mb-2">Rút điểm</h3>
            <input type="number" id="withdraw-amount" placeholder="Nhập số điểm cần rút" class="border p-2 w-full mb-2">
            <button class="bg-red-600 text-white px-4 py-2 rounded" onclick="withdrawPoints()">Rút điểm</button>
            <div id="withdraw-message" class="mt-2"></div>
        </div>

        <h3 class="text-lg font-semibold mb-2">Lịch sử rút điểm</h3>
        <table id="withdraw-history" class="min-w-full bg-white rounded-lg shadow-lg mb-6">
            <thead>
                <tr class="bg-yellow-600 text-white">
                    <th class="py-2">Số thứ tự</th>
                    <th class="py-2">Số điểm rút</th>
                    <th class="py-2">Thời gian</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <script>
        let currentBalance = 0;
        let transactionCounter = 0;
        let betCounter = 0;

        // Mã giao dịch hợp lệ
        const validDepositCodes = {
            "ABC123": 20000,
            "XYZ456": 50000,
            "VIP300": 30000,
            "BAOVIP": 100000,
        };

        // Hiển thị số dư
        const balanceElement = document.getElementById("current-balance");

        // Thêm vào bảng lịch sử giao dịch
        function updateDepositHistory(code, amount) {
            const table = document.getElementById("deposit-history").getElementsByTagName('tbody')[0];
            const newRow = table.insertRow(-1);
            transactionCounter++;

            const cell1 = newRow.insertCell(0);
            const cell2 = newRow.insertCell(1);
            const cell3 = newRow.insertCell(2);
            const cell4 = newRow.insertCell(3);

            cell1.textContent = transactionCounter;
            cell2.textContent = code;
            cell3.textContent = amount;
            cell4.textContent = new Date().toLocaleString();

            // Áp dụng màu ngẫu nhiên cho hàng mới
            applyRandomBackgroundColor(newRow);
        }

        // Xử lý nạp điểm
        function validateDeposit() {
            const code = document.getElementById("deposit-code").value.trim().toUpperCase();
            if (validDepositCodes[code]) {
                const amount = validDepositCodes[code];
                currentBalance += amount;
                balanceElement.textContent = currentBalance;

                // Cập nhật lịch sử
                updateDepositHistory(code, amount);

                // Xóa mã đã sử dụng
                delete validDepositCodes[code];

                // Hiển thị thông báo
                alert(`Nạp thành công ${amount} điểm!`);
            } else {
                alert("Mã giao dịch không hợp lệ hoặc đã được sử dụng!");
            }
        }

        // Thêm vào bảng lịch sử đặt cược
        function updateBetHistory(amount, result, winnings, timestamp) {
            const table = document.getElementById("bet-history").getElementsByTagName('tbody')[0];
            const newRow = table.insertRow(-1);
            betCounter++;

            const cell1 = newRow.insertCell(0);
            const cell2 = newRow.insertCell(1);
            const cell3 = newRow.insertCell(2);
            const cell4 = newRow.insertCell(3);
            const cell5 = newRow.insertCell(4);

            cell1.textContent = betCounter;
            cell2.textContent = amount;
            cell3.textContent = result;
            cell4.textContent = winnings;
            cell5.textContent = timestamp;

            // Áp dụng màu ngẫu nhiên cho hàng mới
            applyRandomBackgroundColor(newRow);
        }

        // Xử lý đặt cược
        function placeBet() {
            const betAmount = parseInt(document.getElementById("bet-amount").value);
            const betType = document.querySelector('input[name="bet-type"]:checked').value;

            if (isNaN(betAmount) || betAmount < 5000 || betAmount > 50000) {
                alert("Số tiền cược phải nằm trong khoảng 5.000 - 50.000 điểm!");
                return;
            }
            if (currentBalance < betAmount) {
                alert("Bạn không đủ điểm để đặt cược!");
                return;
            }

            currentBalance -= betAmount;

            const spinResult = Math.floor(Math.random() * 10); // Tạo số ngẫu nhiên từ 0-9
            const resultType = spinResult % 2 === 0 ? "Chẵn" : "Lẻ";
            const isWin = betType === (resultType === "Chẵn" ? "even" : "odd");

            let winnings = 0;
            if (isWin) {
                winnings = Math.floor(betAmount * 1.75);
                currentBalance += winnings;
            }

            balanceElement.textContent = currentBalance;

            // Cập nhật lịch sử đặt cược
            updateBetHistory(
                betAmount,
                `${spinResult} (${resultType})`,
                isWin ? winnings : -betAmount,
                new Date().toLocaleString()
            );

            // Hiển thị kết quả
            alert(isWin ? `Bạn đã thắng! Nhận được ${winnings} điểm.` : `Bạn đã thua! Mất ${betAmount} điểm.`);
        }

        // Hàm tạo màu ngẫu nhiên
        function getRandomColor() {
            const letters = "0123456789ABCDEF";
            let color = "#";
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        // Hàm áp dụng màu ngẫu nhiên
        function applyRandomBackgroundColor(row) {
            row.style.backgroundColor = getRandomColor();
            row.style.color = "#fff"; // Màu chữ trắng để dễ nhìn
        }

        // Xử lý rút điểm
        function withdrawPoints() {
            const withdrawAmount = parseInt(document.getElementById("withdraw-amount").value);

            // Kiểm tra số tiền rút có hợp lệ không
            if (isNaN(withdrawAmount) || withdrawAmount < 20000) {
                alert("Số điểm rút phải tối thiểu 20.000!");
                return;
            }

            // Kiểm tra số dư tài khoản
            if (currentBalance < withdrawAmount) {
                alert("Bạn không đủ điểm để rút!");
                return;
            }

            // Trừ số điểm rút khỏi số dư
            currentBalance -= withdrawAmount;
            balanceElement.textContent = currentBalance;

            // Cập nhật lịch sử rút điểm
            updateWithdrawHistory(withdrawAmount, new Date().toLocaleString());

            alert(`Rút thành công ${withdrawAmount} điểm! Vui lòng chờ admin xử lý.`);
        }

        // Thêm vào bảng lịch sử rút điểm
        function updateWithdrawHistory(amount, timestamp) {
            const table = document.getElementById("withdraw-history").getElementsByTagName('tbody')[0];
            const newRow = table.insertRow(-1);

            // Tạo các ô trong hàng mới
            const cell1 = newRow.insertCell(0);
            const cell2 = newRow.insertCell(1);
            const cell3 = newRow.insertCell(2);

            // Điền nội dung vào các ô
            cell1.textContent = table.rows.length; // Số thứ tự
            cell2.textContent = amount;
            cell3.textContent = timestamp;

            // Áp dụng màu nền ngẫu nhiên cho hàng mới
            applyRandomBackgroundColor(newRow);
        }

        // Xử lý quay vòng quay may mắn
        function spinWheel() {
            const random = Math.random() * 100;
            let prize = "Chúc bạn may mắn lần sau";

            if (random < 1) {
                prize = "100.000 điểm";
                currentBalance += 100000;
            } else if (random < 4) {
                prize = "10.000 điểm";
                currentBalance += 10000;
            } else if (random < 34) {
                prize = "5.000 điểm";
                currentBalance += 5000;
            }

            balanceElement.textContent = currentBalance;
            alert(`Bạn đã quay trúng: ${prize}`);
        }

        // Hiệu ứng tuyết rơi
        function createSnowflake() {
            const snowflake = document.createElement("div");
            snowflake.classList.add("snowflake");
            snowflake.textContent = "❄";
            snowflake.style.left = `${Math.random() * window.innerWidth}px`;
            snowflake.style.animationDuration = `${Math.random() * 3 + 2}s`;
            snowflake.style.opacity = Math.random();
            snowflake.style.fontSize = `${Math.random() * 10 + 10}px`;

            document.body.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, 5000);
        }

        setInterval(createSnowflake, 100);
    </script>
</body>
</html>
